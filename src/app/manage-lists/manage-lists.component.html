<mat-card class="content">
  <mat-card-content>
    <mat-slide-toggle [disabled]="autoblockEnabled === undefined" [(ngModel)]="autoblockEnabled"
      (ngModelChange)="enableToggled()">Увімкнути автоблокування</mat-slide-toggle>
  </mat-card-content>
</mat-card>

<mat-card class="content">
  <mat-card>
    <mat-card-header>
      <button mat-raised-button color="accent" [disabled]="!haveUnsavedChanges || !loadingDone" (click)="saveChanges()">
        <mat-icon>save</mat-icon>Зберегти зміни
      </button>
    </mat-card-header>

    <mat-expansion-panel expanded="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Ваші списки
        </mat-panel-title>
        <mat-panel-description>
          Списки на які ви підписані, або для яких у вас увімкнено автоблокування.
        </mat-panel-description>
      </mat-expansion-panel-header>
      <mat-list [disabled]="!loadingDone">
        <mat-list-item *ngFor="let list of lists">
          <mat-checkbox matListItemIcon [value]="list.uri"
            [checked]="autoblockedLists.includes(list.uri)"
            (change)="onCheckboxChange($event)"></mat-checkbox>
          <img matListItemAvatar *ngIf="list.avatar" [src]="list.avatar">
          {{list.name}}
          <a mat-icon-button [href]="webUrlForList(list)" target="_blank">
            <mat-icon>open_in_new</mat-icon>
          </a>
        </mat-list-item>
      </mat-list>
    </mat-expansion-panel>
  </mat-card>
</mat-card>

<!-- <mat-card class="content">
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Списки від mods.mobik.zip
      </mat-panel-title>
    </mat-expansion-panel-header>
  </mat-expansion-panel>
</mat-card> -->
